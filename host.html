<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tal Cual - Host</title>
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css/global.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/host.css">
    <link rel="stylesheet" href="./css/animations.css">

    <script>
        (function () {
            var root = document.documentElement;
            root.classList.add('is-booting');

            try {
                var params = new URLSearchParams(window.location.search);
                var code = params.get('code') || localStorage.getItem('hostGameCode');
                if (code) {
                    root.classList.add('has-session');
                } else {
                    root.classList.add('no-session');
                }
            } catch (e) {
                root.classList.add('no-session');
            }

            (function () {
                var img = new Image();
                img.src = '/images/bg.webp';
                var done = function () { root.classList.add('bg-ready'); };

                if (img.decode) {
                    img.decode().then(done).catch(done);
                } else {
                    img.onload = done;
                    img.onerror = done;
                }
            })();

            window.addEventListener('DOMContentLoaded', function () {
                requestAnimationFrame(function () {
                    root.classList.remove('is-booting');
                });
            });
        })();
    </script>
</head>
<body>
    <button class="btn-hamburger boot-el" id="btn-hamburger-host" aria-label="Abrir men√∫ de opciones">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </button>

    <nav class="hamburger-menu boot-el session-only" id="hamburger-menu-host" aria-label="Men√∫ de navegaci√≥n y opciones del host">
        <div class="hamburger-header">Men√∫</div>
        <button class="hamburger-option" id="hamburger-restart-round">üîÑ Reiniciar Ronda</button>
        <button class="hamburger-option" id="hamburger-new-game">üé≤ Nueva Partida</button>
        <button class="hamburger-option" id="hamburger-settings">‚ö†Ô∏è Opciones</button>
        <button class="hamburger-option hamburger-danger" id="hamburger-terminate">üòª Terminar</button>
        <a href="./index.html" class="hamburger-option hamburger-home">üè† Inicio</a>
    </nav>

    <div class="logo-floating boot-el" id="logo-floating">
        <img src="/images/icon.webp" alt="TalCual Party Logo">
    </div>

    <div class="game-screen boot-el session-only" id="game-screen" style="display: none;">
        <div id="countdown-overlay" class="countdown-overlay hidden" role="status" aria-live="assertive" aria-label="Contador regresivo antes de comenzar ronda">
            <div id="countdown-number" class="countdown-number" aria-atomic="true">3</div>
        </div>

        <div class="code-sticker-floating" aria-label="C√≥digo de sala actual">
            <div class="code-sticker-label">C√≥digo</div>
            <div class="code-sticker-value" id="header-code" aria-atomic="true">----</div>
        </div>

        <div class="tv-header">
            <div class="timer-container">
                <div class="round-info" aria-live="polite" aria-label="Informaci√≥n de ronda">Ronda <span id="header-round">--/--</span></div>
                <div class="timer-display" id="header-timer" aria-live="assertive" aria-label="Tiempo restante de ronda">‚è≥ 00:00</div>
            </div>
        </div>

        <div class="center-stage" id="center-stage" role="main" aria-label="Area principal de juego">
            <div class="status-message" id="status-message" aria-live="polite" aria-atomic="true">Esperando jugadores...</div>
            <div class="current-word" id="current-word" style="display: none;">???</div>
            <div class="category-label" id="category-label" style="display: none;">Categor√≠a</div>
            <button class="btn-start" id="btn-start-round" style="display: none;" aria-label="Bot√≥n para iniciar la ronda">üéÆ Iniciar Ronda</button>
            <button class="btn-hurry-up" id="btn-hurry-up" style="display: none;" aria-label="Activar remate para presionar a los jugadores">‚ö° REMATE</button>
        </div>

        <div class="players-container" id="players-container">
            <div class="players-grid" id="players-grid"></div>
        </div>

        <div class="control-buttons" style="display: none;">
            <button class="btn" id="btn-select-category" aria-label="Seleccionar categor√≠a para esta ronda">üìö Categor√≠a</button>
            <button class="btn" id="btn-end-game" aria-label="Terminar el juego">üòª Terminar</button>
        </div>
    </div>

    <script src="./js/components/ModalSystem.js"></script>
    <script src="./js/core/ConfigManager.js"></script>
    <script src="./js/core/Utils.js"></script>
    <script src="./js/core/WordEngine.js"></script>
    <script src="./js/core/NetworkManager.js"></script>
    <script src="./js/core/BaseController.js"></script>
    <script src="./js/components/GameSettings.js"></script>
    <script src="./js/core/PlayerAura.js"></script>
    <script src="./js/components/ActionMenuManager.js"></script>
    <script src="./js/components/Leaderboard.js"></script>
    <script src="./js/host/GameSetup.js"></script>
    <script src="./js/host/HostView.js"></script>
    <script src="./js/host/HostController.js"></script>
</body>
</html>